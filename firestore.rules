rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    // Metadata - readable by all, writable by admin (checked in app)
    match /metadata/{docId} {
      allow read: if true;
      allow write: if true; // Admin check done in firebase-api.js
    }
    
    // Chapters - readable by all, writable by admin (checked in app)
    match /chapters/{chapterId} {
      allow read: if true;
      allow write: if true; // Admin check done in firebase-api.js
    }
    
    // Annotations - readable and writable by all
    match /annotations/{annotationId} {
      allow read: if true;
      allow write: if true;
    }
    
    // Users - readable and writable by all
    match /users/{userId} {
      allow read: if true;
      allow write: if true;
    }
  }
}
